// setup_view.slint
import { Button, VerticalBox } from "std-widgets.slint";

export component SetupView inherits VerticalBox {
    callback set-master-password(string, string);

    in-out property <string> new-password: "";
    in-out property <string> confirm-password: "";

    alignment: center;

    Rectangle {
        background: #1C1C1E;
        width: 380px;
        border-radius: 8px;
        padding: 30px;

        VerticalBox {
            spacing: 15px;
            alignment: center;

            Text {
                text: "Set Your Master Password";
                font-size: 20px;
                font-weight: 600;
                horizontal-alignment: center;
            }
            Text {
                text: "This is the only password you'll ever need to remember.";
                color: #8E8E93;
                horizontal-alignment: center;
                wrap: word-wrap;
            }

            VerticalBox {
                width: 100%;
                spacing: 5px;
                Text { text: "Master Password"; color: #CCCCCC; }
                TextInput {
                    text <=> new-password;
                    input-type: password;
                }
            }

            VerticalBox {
                width: 100%;
                spacing: 5px;
                Text { text: "Confirm Master Password"; color: #CCCCCC; }
                TextInput {
                    text <=> confirm-password;
                    input-type: password;
                }
            }
            
            Button {
                text: "Set Master Password";
                primary: true;
                width: 100%;
                height: 40px;
                clicked => { set-master-password(new-password, confirm-password) }
            }
        }
    }
}